<source>
    @type tail
    format apache2
    tag apache.access
    path ./tmp/apache2/access.log
</source>

  <source>
      @type tail
      format /^\[[^ ]* (?<time>[^\]]*)\] \[(?<level>[^\]]*)\] \[pid (?<pid>[^\]]*)\] \[client (?<client>[^\]]*)\] (?<message>.*)$/
      tag apache.error
      path ./tmp/apache2/error.log
  </source>

<source>
    @type tail
    format nginx
    tag nginx.access
    path ./tmp/nginx/access.log 
</source>

  <source>
      @type tail
      format /^(?<time>\d{4}/\d{2}/\d{2} \d{2}:\d{2}:\d{2}) \[(?<log_level>\w+)\] (?<pid>\d+)#(?<tid>\d+): (?<message>.*)$/
      tag nginx.error
      path ./tmp/nginx/error.log
  </source>

<match apache.*>
    @type stdout
</match>

<source>
    @type forward
    port 24224
</source>

<match fluentd.test.*>
    @type file
    path ./tmp/java/
    time_slice_format %Y%m%d
    time_slice_wait 1m
    compress gzip
    utc
</match>
